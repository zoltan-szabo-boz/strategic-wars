[gd_scene load_steps=4 format=3 uid="uid://bsr4t47xwg03y"]

[ext_resource type="Script" uid="uid://cu81vtg5y6ybt" path="res://scripts/main.gd" id="1_main"]
[ext_resource type="Theme" path="res://assets/theme/game_theme.tres" id="2_theme"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_training"]
bg_color = Color(0.12, 0.12, 0.18, 0.98)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0.4, 0.4, 0.5, 1)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("2_theme")
script = ExtResource("1_main")

[node name="Background" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.15, 0.15, 0.2, 1)

[node name="GameContainer" type="HBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LeftPanel" type="VBoxContainer" parent="GameContainer"]
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
size_flags_horizontal = 0

[node name="TrainUnitsBtn" type="Button" parent="GameContainer/LeftPanel"]
custom_minimum_size = Vector2(0, 40)
layout_mode = 2
text = "TRAIN UNITS"

[node name="Spacer" type="Control" parent="GameContainer/LeftPanel"]
layout_mode = 2
size_flags_vertical = 3

[node name="MapPanel" type="PanelContainer" parent="GameContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4

[node name="MapContainer" type="GridContainer" parent="GameContainer/MapPanel"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
columns = 7

[node name="RightPanel" type="VBoxContainer" parent="GameContainer"]
custom_minimum_size = Vector2(220, 0)
layout_mode = 2
size_flags_horizontal = 0

[node name="TilesLabel" type="RichTextLabel" parent="GameContainer/RightPanel"]
layout_mode = 2
bbcode_enabled = true
text = "Tiles: 1/25"
fit_content = true

[node name="Separator3" type="HSeparator" parent="GameContainer/RightPanel"]
layout_mode = 2

[node name="ResourcesLabel" type="Label" parent="GameContainer/RightPanel"]
layout_mode = 2
text = "RESOURCES"

[node name="ManpowerLabel" type="RichTextLabel" parent="GameContainer/RightPanel"]
layout_mode = 2
bbcode_enabled = true
text = "Manpower: 30"
fit_content = true

[node name="GoodsLabel" type="RichTextLabel" parent="GameContainer/RightPanel"]
layout_mode = 2
bbcode_enabled = true
text = "Goods: 20"
fit_content = true

[node name="SuppliesLabel" type="RichTextLabel" parent="GameContainer/RightPanel"]
layout_mode = 2
bbcode_enabled = true
text = "Supplies: 25"
fit_content = true

[node name="Separator4" type="HSeparator" parent="GameContainer/RightPanel"]
layout_mode = 2

[node name="ArmyLabel" type="Label" parent="GameContainer/RightPanel"]
layout_mode = 2
text = "ARMY (avail/total)"

[node name="PikemenLabel" type="RichTextLabel" parent="GameContainer/RightPanel"]
layout_mode = 2
bbcode_enabled = true
text = "Pikemen: 2 (2)"
fit_content = true

[node name="CavalryLabel" type="RichTextLabel" parent="GameContainer/RightPanel"]
layout_mode = 2
bbcode_enabled = true
text = "Cavalry: 1 (1)"
fit_content = true

[node name="ArchersLabel" type="RichTextLabel" parent="GameContainer/RightPanel"]
layout_mode = 2
bbcode_enabled = true
text = "Archers: 2 (2)"
fit_content = true

[node name="Separator5" type="HSeparator" parent="GameContainer/RightPanel"]
layout_mode = 2

[node name="TileInfoPanel" type="PanelContainer" parent="GameContainer/RightPanel"]
layout_mode = 2
size_flags_vertical = 3

[node name="TileInfoLabel" type="Label" parent="GameContainer/RightPanel/TileInfoPanel"]
layout_mode = 2
size_flags_horizontal = 4
text = "Click a tile to select"
vertical_alignment = 1

[node name="TurnLabel" type="Label" parent="GameContainer/RightPanel"]
layout_mode = 2
text = "Turn: 1"

[node name="VictoryPanel" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -150.0
offset_top = -100.0
offset_right = 150.0
offset_bottom = 100.0
grow_horizontal = 2
grow_vertical = 2

[node name="VictoryLabel" type="Label" parent="VictoryPanel"]
layout_mode = 2
text = "VICTORY!"
horizontal_alignment = 1
vertical_alignment = 1

[node name="NewGameBtn" type="Button" parent="."]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 8.0
offset_top = -42.0
offset_right = 101.0
offset_bottom = -11.0
grow_vertical = 0
text = "New Game"

[node name="HelpBtn" type="Button" parent="."]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 109.0
offset_top = -42.0
offset_right = 144.0
offset_bottom = -11.0
grow_vertical = 0
text = "?"

[node name="EndTurnBtn" type="Button" parent="."]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -108.0
offset_top = -58.0
offset_right = -8.0
offset_bottom = -8.0
grow_horizontal = 0
grow_vertical = 0
text = "END TURN"

[node name="HelpPanel" type="PanelContainer" parent="."]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -120.0
offset_right = 200.0
offset_bottom = 120.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_training")

[node name="VBox" type="VBoxContainer" parent="HelpPanel"]
layout_mode = 2

[node name="HelpLabel" type="RichTextLabel" parent="HelpPanel/VBox"]
layout_mode = 2
bbcode_enabled = true
text = "[center]GOAL: Eliminate the enemy ([img=16]res://assets/icons/red_circle.svg[/img] red)!

Click a border tile to select it.
Use sliders to assign units.
Press END TURN to finish your turn and resolve combat.

Tiles give resources each turn.
Spend resources to train new units.
You can attack multiple tiles per turn.

Combat: stronger army wins.
The enemy AI also expands and attacks![/center]"
fit_content = true

[node name="CloseHelpBtn" type="Button" parent="HelpPanel/VBox"]
layout_mode = 2
text = "Close"

[node name="TrainingPanel" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -280.0
offset_top = -220.0
offset_right = 280.0
offset_bottom = 220.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_training")

[node name="VBox" type="VBoxContainer" parent="TrainingPanel"]
layout_mode = 2

[node name="TitleLabel" type="Label" parent="TrainingPanel/VBox"]
layout_mode = 2
text = "TRAIN UNITS"
horizontal_alignment = 1

[node name="ResourcesPanel" type="PanelContainer" parent="TrainingPanel/VBox"]
layout_mode = 2

[node name="ResourcesHBox" type="HBoxContainer" parent="TrainingPanel/VBox/ResourcesPanel"]
layout_mode = 2
alignment = 1

[node name="ManpowerDraft" type="RichTextLabel" parent="TrainingPanel/VBox/ResourcesPanel/ResourcesHBox"]
custom_minimum_size = Vector2(80, 24)
layout_mode = 2
bbcode_enabled = true
text = "Manpower: 30"
fit_content = true
scroll_active = false

[node name="Sep1" type="VSeparator" parent="TrainingPanel/VBox/ResourcesPanel/ResourcesHBox"]
layout_mode = 2

[node name="GoodsDraft" type="RichTextLabel" parent="TrainingPanel/VBox/ResourcesPanel/ResourcesHBox"]
custom_minimum_size = Vector2(80, 24)
layout_mode = 2
bbcode_enabled = true
text = "Goods: 20"
fit_content = true
scroll_active = false

[node name="Sep2" type="VSeparator" parent="TrainingPanel/VBox/ResourcesPanel/ResourcesHBox"]
layout_mode = 2

[node name="SuppliesDraft" type="RichTextLabel" parent="TrainingPanel/VBox/ResourcesPanel/ResourcesHBox"]
custom_minimum_size = Vector2(80, 24)
layout_mode = 2
bbcode_enabled = true
text = "Supplies: 25"
fit_content = true
scroll_active = false

[node name="Separator" type="HSeparator" parent="TrainingPanel/VBox"]
layout_mode = 2

[node name="UnitsContainer" type="VBoxContainer" parent="TrainingPanel/VBox"]
layout_mode = 2
size_flags_vertical = 3

[node name="PikeRow" type="HBoxContainer" parent="TrainingPanel/VBox/UnitsContainer"]
layout_mode = 2

[node name="PikeInfo" type="VBoxContainer" parent="TrainingPanel/VBox/UnitsContainer/PikeRow"]
layout_mode = 2
size_flags_horizontal = 3

[node name="PikeName" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/PikeRow/PikeInfo"]
layout_mode = 2
bbcode_enabled = true
text = "[img=16]res://assets/icons/dagger.svg[/img] PIKEMAN"
fit_content = true

[node name="PikeCost" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/PikeRow/PikeInfo"]
layout_mode = 2
bbcode_enabled = true
text = "Cost: [img=14]res://assets/icons/pickaxe.svg[/img]5 [img=14]res://assets/icons/gear.svg[/img]2 [img=14]res://assets/icons/bread.svg[/img]3  |  Power: 10"
fit_content = true

[node name="PikeRPS" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/PikeRow/PikeInfo"]
layout_mode = 2
bbcode_enabled = true
text = "Strong vs: [img=14]res://assets/icons/horse.svg[/img]  |  Weak vs: [img=14]res://assets/icons/bow.svg[/img]"
fit_content = true

[node name="PikeDesc" type="Label" parent="TrainingPanel/VBox/UnitsContainer/PikeRow/PikeInfo"]
layout_mode = 2
text = "Balanced defensive unit"

[node name="PikeControls" type="HBoxContainer" parent="TrainingPanel/VBox/UnitsContainer/PikeRow"]
layout_mode = 2
size_flags_vertical = 4

[node name="PikeMinus" type="Button" parent="TrainingPanel/VBox/UnitsContainer/PikeRow/PikeControls"]
custom_minimum_size = Vector2(30, 30)
layout_mode = 2
text = "-"

[node name="PikeCount" type="Label" parent="TrainingPanel/VBox/UnitsContainer/PikeRow/PikeControls"]
custom_minimum_size = Vector2(30, 0)
layout_mode = 2
text = "0"
horizontal_alignment = 1

[node name="PikePlus" type="Button" parent="TrainingPanel/VBox/UnitsContainer/PikeRow/PikeControls"]
custom_minimum_size = Vector2(30, 30)
layout_mode = 2
text = "+"

[node name="CavRow" type="HBoxContainer" parent="TrainingPanel/VBox/UnitsContainer"]
layout_mode = 2

[node name="CavInfo" type="VBoxContainer" parent="TrainingPanel/VBox/UnitsContainer/CavRow"]
layout_mode = 2
size_flags_horizontal = 3

[node name="CavName" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/CavRow/CavInfo"]
layout_mode = 2
bbcode_enabled = true
text = "[img=16]res://assets/icons/horse.svg[/img] CAVALRY"
fit_content = true

[node name="CavCost" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/CavRow/CavInfo"]
layout_mode = 2
bbcode_enabled = true
text = "Cost: [img=14]res://assets/icons/pickaxe.svg[/img]8 [img=14]res://assets/icons/gear.svg[/img]5 [img=14]res://assets/icons/bread.svg[/img]5  |  Power: 15"
fit_content = true

[node name="CavRPS" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/CavRow/CavInfo"]
layout_mode = 2
bbcode_enabled = true
text = "Strong vs: [img=14]res://assets/icons/bow.svg[/img]  |  Weak vs: [img=14]res://assets/icons/dagger.svg[/img]"
fit_content = true

[node name="CavDesc" type="Label" parent="TrainingPanel/VBox/UnitsContainer/CavRow/CavInfo"]
layout_mode = 2
text = "Powerful but expensive"

[node name="CavControls" type="HBoxContainer" parent="TrainingPanel/VBox/UnitsContainer/CavRow"]
layout_mode = 2
size_flags_vertical = 4

[node name="CavMinus" type="Button" parent="TrainingPanel/VBox/UnitsContainer/CavRow/CavControls"]
custom_minimum_size = Vector2(30, 30)
layout_mode = 2
text = "-"

[node name="CavCount" type="Label" parent="TrainingPanel/VBox/UnitsContainer/CavRow/CavControls"]
custom_minimum_size = Vector2(30, 0)
layout_mode = 2
text = "0"
horizontal_alignment = 1

[node name="CavPlus" type="Button" parent="TrainingPanel/VBox/UnitsContainer/CavRow/CavControls"]
custom_minimum_size = Vector2(30, 30)
layout_mode = 2
text = "+"

[node name="ArcherRow" type="HBoxContainer" parent="TrainingPanel/VBox/UnitsContainer"]
layout_mode = 2

[node name="ArcherInfo" type="VBoxContainer" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ArcherName" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow/ArcherInfo"]
layout_mode = 2
bbcode_enabled = true
text = "[img=16]res://assets/icons/bow.svg[/img] ARCHER"
fit_content = true

[node name="ArcherCost" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow/ArcherInfo"]
layout_mode = 2
bbcode_enabled = true
text = "Cost: [img=14]res://assets/icons/pickaxe.svg[/img]4 [img=14]res://assets/icons/gear.svg[/img]4 [img=14]res://assets/icons/bread.svg[/img]2  |  Power: 8"
fit_content = true

[node name="ArcherRPS" type="RichTextLabel" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow/ArcherInfo"]
layout_mode = 2
bbcode_enabled = true
text = "Strong vs: [img=14]res://assets/icons/dagger.svg[/img]  |  Weak vs: [img=14]res://assets/icons/horse.svg[/img]"
fit_content = true

[node name="ArcherDesc" type="Label" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow/ArcherInfo"]
layout_mode = 2
text = "Cheapest supplies cost"

[node name="ArcherControls" type="HBoxContainer" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow"]
layout_mode = 2
size_flags_vertical = 4

[node name="ArcherMinus" type="Button" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow/ArcherControls"]
custom_minimum_size = Vector2(30, 30)
layout_mode = 2
text = "-"

[node name="ArcherCount" type="Label" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow/ArcherControls"]
custom_minimum_size = Vector2(30, 0)
layout_mode = 2
text = "0"
horizontal_alignment = 1

[node name="ArcherPlus" type="Button" parent="TrainingPanel/VBox/UnitsContainer/ArcherRow/ArcherControls"]
custom_minimum_size = Vector2(30, 30)
layout_mode = 2
text = "+"

[node name="Separator2" type="HSeparator" parent="TrainingPanel/VBox"]
layout_mode = 2

[node name="ButtonsHBox" type="HBoxContainer" parent="TrainingPanel/VBox"]
layout_mode = 2
alignment = 1

[node name="CancelTrainingBtn" type="Button" parent="TrainingPanel/VBox/ButtonsHBox"]
custom_minimum_size = Vector2(100, 35)
layout_mode = 2
text = "Cancel"

[node name="Spacer" type="Control" parent="TrainingPanel/VBox/ButtonsHBox"]
custom_minimum_size = Vector2(20, 0)
layout_mode = 2

[node name="ConfirmTrainingBtn" type="Button" parent="TrainingPanel/VBox/ButtonsHBox"]
custom_minimum_size = Vector2(100, 35)
layout_mode = 2
text = "Confirm"

[node name="TurnReportPanel" type="PanelContainer" parent="."]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -250.0
offset_top = -200.0
offset_right = 250.0
offset_bottom = 200.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_training")

[node name="VBox" type="VBoxContainer" parent="TurnReportPanel"]
layout_mode = 2

[node name="TitleLabel" type="Label" parent="TurnReportPanel/VBox"]
layout_mode = 2
text = "TURN REPORT"
horizontal_alignment = 1

[node name="Separator1" type="HSeparator" parent="TurnReportPanel/VBox"]
layout_mode = 2

[node name="ScrollContainer" type="ScrollContainer" parent="TurnReportPanel/VBox"]
custom_minimum_size = Vector2(0, 300)
layout_mode = 2
size_flags_vertical = 3

[node name="ReportContent" type="VBoxContainer" parent="TurnReportPanel/VBox/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="CombatLabel" type="Label" parent="TurnReportPanel/VBox/ScrollContainer/ReportContent"]
layout_mode = 2
text = "COMBAT"

[node name="CombatReport" type="RichTextLabel" parent="TurnReportPanel/VBox/ScrollContainer/ReportContent"]
layout_mode = 2
bbcode_enabled = true
text = "No combat this turn."
fit_content = true

[node name="Separator2" type="HSeparator" parent="TurnReportPanel/VBox/ScrollContainer/ReportContent"]
layout_mode = 2

[node name="IncomeLabel" type="Label" parent="TurnReportPanel/VBox/ScrollContainer/ReportContent"]
layout_mode = 2
text = "INCOME"

[node name="IncomeReport" type="RichTextLabel" parent="TurnReportPanel/VBox/ScrollContainer/ReportContent"]
layout_mode = 2
bbcode_enabled = true
text = "Resources gained this turn."
fit_content = true

[node name="Separator3" type="HSeparator" parent="TurnReportPanel/VBox"]
layout_mode = 2

[node name="CloseReportBtn" type="Button" parent="TurnReportPanel/VBox"]
custom_minimum_size = Vector2(100, 35)
layout_mode = 2
size_flags_horizontal = 4
text = "Continue"

[node name="AssignPanel" type="PanelContainer" parent="."]
visible = false
layout_mode = 0
offset_right = 180.0
offset_bottom = 120.0
theme_override_styles/panel = SubResource("StyleBoxFlat_training")

[node name="VBox" type="VBoxContainer" parent="AssignPanel"]
layout_mode = 2

[node name="TitleLabel" type="Label" parent="AssignPanel/VBox"]
layout_mode = 2
text = "ASSIGN UNITS"
horizontal_alignment = 1

[node name="PikeRow" type="HBoxContainer" parent="AssignPanel/VBox"]
layout_mode = 2

[node name="PikeLabel" type="RichTextLabel" parent="AssignPanel/VBox/PikeRow"]
custom_minimum_size = Vector2(70, 0)
layout_mode = 2
bbcode_enabled = true
text = "Pike: 0"
fit_content = true

[node name="PikeSlider" type="HSlider" parent="AssignPanel/VBox/PikeRow"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
max_value = 0.0

[node name="CavRow" type="HBoxContainer" parent="AssignPanel/VBox"]
layout_mode = 2

[node name="CavLabel" type="RichTextLabel" parent="AssignPanel/VBox/CavRow"]
custom_minimum_size = Vector2(70, 0)
layout_mode = 2
bbcode_enabled = true
text = "Cav: 0"
fit_content = true

[node name="CavSlider" type="HSlider" parent="AssignPanel/VBox/CavRow"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
max_value = 0.0

[node name="ArcherRow" type="HBoxContainer" parent="AssignPanel/VBox"]
layout_mode = 2

[node name="ArcherLabel" type="RichTextLabel" parent="AssignPanel/VBox/ArcherRow"]
custom_minimum_size = Vector2(70, 0)
layout_mode = 2
bbcode_enabled = true
text = "Arch: 0"
fit_content = true

[node name="ArcherSlider" type="HSlider" parent="AssignPanel/VBox/ArcherRow"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
max_value = 0.0
